
<!DOCTYPE HTML>
<html lang="ja" >
    <head>
        <meta charset="UTF-8">
        <title>USER-3-7: アイテム詳細：エクスポート 73 · 機能仕様書</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 5.1.4">
        <meta name="author" content="Research Center for Open Science and Data Platform, National Institute of Informatics">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-intopic-toc/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-collapsible-chapters/collapsible-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="USER_3_8.html" />
    
    
    <link rel="prev" href="USER_3_6.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="検索ワードを入力" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="./">
            
                <a href="./">
            
                    
                    ユーザ機能
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="USER_1_1.html">
            
                <a href="USER_1_1.html">
            
                    
                    USER-1-1: 簡易検索（全文検索・キーワード検索） 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="USER_1_2.html">
            
                <a href="USER_1_2.html">
            
                    
                    USER-1-2: 詳細検索
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="USER_1_3.html">
            
                <a href="USER_1_3.html">
            
                    
                    USER-1-3: インデックス検索
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="USER_1_4.html">
            
                <a href="USER_1_4.html">
            
                    
                    USER-1-4: ファセット検索
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="USER_1_5.html">
            
                <a href="USER_1_5.html">
            
                    
                    USER-1-5: RSS 19
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="USER_2_1.html">
            
                <a href="USER_2_1.html">
            
                    
                    USER-2-1: アイテムリスト：一覧形式表示 23
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="USER_2_2.html">
            
                <a href="USER_2_2.html">
            
                    
                    USER-2-2: アイテムリスト：目次形式表示 28
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="USER_2_3.html">
            
                <a href="USER_2_3.html">
            
                    
                    USER-2-3: アイテムリスト：雑誌情報 32
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="USER_2_4.html">
            
                <a href="USER_2_4.html">
            
                    
                    USER-2-4: アイテムリスト：アイテム一括出力 38
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="USER_3_1.html">
            
                <a href="USER_3_1.html">
            
                    
                    USER-3-1: アイテム詳細：メタデータ表示 44
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.11" data-path="USER_3_2.html">
            
                <a href="USER_3_2.html">
            
                    
                    USER-3-2: アイテム詳細：コンテンツファイル管理 51
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.12" data-path="USER_3_3.html">
            
                <a href="USER_3_3.html">
            
                    
                    USER-3-3: アイテム詳細：アイテムバージョン管理 63
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.13" data-path="USER_3_4.html">
            
                <a href="USER_3_4.html">
            
                    
                    USER-3-4: アイテム詳細：引用情報表示 66
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.14" data-path="USER_3_5.html">
            
                <a href="USER_3_5.html">
            
                    
                    USER-3-5: アイテム詳細：統計情報表示 69
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.15" data-path="USER_3_6.html">
            
                <a href="USER_3_6.html">
            
                    
                    USER-3-6: アイテム詳細：共有 72
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.16" data-path="USER_3_7.html">
            
                <a href="USER_3_7.html">
            
                    
                    USER-3-7: アイテム詳細：エクスポート 73
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.17" data-path="USER_3_8.html">
            
                <a href="USER_3_8.html">
            
                    
                    USER-3-8: アイテム詳細：Google Scholar メタデータ出力 81
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.18" data-path="USER_3_9.html">
            
                <a href="USER_3_9.html">
            
                    
                    USER-3-9: アイテム詳細：Google Dataset メタデータ出力 83
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.19" data-path="USER_4_1.html">
            
                <a href="USER_4_1.html">
            
                    
                    USER-4-1: ワークフロー：アクティビティ一覧表示 85
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.20" data-path="USER_4_2.html">
            
                <a href="USER_4_2.html">
            
                    
                    USER-4-2: ワークフロー：ワークフロー一覧表示 95
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.21" data-path="USER_4_3.html">
            
                <a href="USER_4_3.html">
            
                    
                    USER-4-3: ワークフロー：ワークフロー 4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.22" data-path="USER_4_4.html">
            
                <a href="USER_4_4.html">
            
                    
                    USER-4-4: ワークフロー：Item Registration 7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.23" data-path="USER_4_5.html">
            
                <a href="USER_4_5.html">
            
                    
                    USER-4-5: ワークフロー：Item Registration：ファイルアップロード 8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.24" data-path="USER_4_6.html">
            
                <a href="USER_4_6.html">
            
                    
                    USER-4-6: ワークフロー：Item Registration：メタデータ入力 23
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.25" data-path="USER_4_7.html">
            
                <a href="USER_4_7.html">
            
                    
                    USER-4-7: ワークフロー：Item Registration：代理投稿 28
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.26" data-path="USER_4_8.html">
            
                <a href="USER_4_8.html">
            
                    
                    USER-4-8: ワークフロー：Item Registration：フィードバックメール機能 30
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.27" data-path="USER_4_9.html">
            
                <a href="USER_4_9.html">
            
                    
                    USER-4-9: ワークフロー：Item Registration：インデックス指定 34
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.28" data-path="USER_4_10.html">
            
                <a href="USER_4_10.html">
            
                    
                    USER-4-10: ワークフロー：Identifier Grant 36
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.29" data-path="USER_4_11.html">
            
                <a href="USER_4_11.html">
            
                    
                    USER-4-11: ワークフロー：Item Link 45
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.30" data-path="USER_4_12.html">
            
                <a href="USER_4_12.html">
            
                    
                    USER-4-12: ワークフロー：OA Policy Confirmation（現在非対応） 49
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.31" data-path="USER_4_13.html">
            
                <a href="USER_4_13.html">
            
                    
                    USER-4-13: ワークフロー：Approval 51
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.32" data-path="USER_5_1.html">
            
                <a href="USER_5_1.html">
            
                    
                    USER-5-1: コミュニティ：コミュニティ 53
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.33" data-path="USER_6_1.html">
            
                <a href="USER_6_1.html">
            
                    
                    USER-6-1: ランキング：ランキング 55
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.34" data-path="USER_7_1.html">
            
                <a href="USER_7_1.html">
            
                    
                    USER-7-1: 大容量ファイルアップロード：ファイルアップロード 61
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.35" data-path="USER_7_2.html">
            
                <a href="USER_7_2.html">
            
                    
                    USER-7-2: 言語切替：言語切替 62
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.36" data-path="USER_8_1.html">
            
                <a href="USER_8_1.html">
            
                    
                    USER-8-1: ユーザーアカウント：サインアップ 63
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.37" data-path="USER_8_2.html">
            
                <a href="USER_8_2.html">
            
                    
                    USER-8-2: ユーザーアカウント：ログイン 65
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.38" data-path="USER_8_3.html">
            
                <a href="USER_8_3.html">
            
                    
                    USER-8-3: ユーザーアカウント：パスワードリセット 67
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.39" data-path="USER_8_4.html">
            
                <a href="USER_8_4.html">
            
                    
                    USER-8-4: ユーザーアカウント：ユーザープロファイル設定 69
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.40" data-path="USER_8_5.html">
            
                <a href="USER_8_5.html">
            
                    
                    USER-8-5: ユーザーアカウント：API設定 71
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.41" data-path="USER_9_1.html">
            
                <a href="USER_9_1.html">
            
                    
                    USER-9-1: Cookie：Cookie使用確認画面表示 75
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../admin/">
            
                <a href="../admin/">
            
                    
                    管理機能
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../admin/ADMIN_1_1.html">
            
                <a href="../admin/ADMIN_1_1.html">
            
                    
                    ADMIN-1-1: アイテムタイプ管理：メタデータ 76
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../admin/ADMIN_1_2.html">
            
                <a href="../admin/ADMIN_1_2.html">
            
                    
                    ADMIN-1-2: アイテムタイプ管理：マッピング 84
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../admin/ADMIN_1_3.html">
            
                <a href="../admin/ADMIN_1_3.html">
            
                    
                    ADMIN-1-3: アイテムタイプ管理：OAIスキーマ 88
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../admin/ADMIN_1_4.html">
            
                <a href="../admin/ADMIN_1_4.html">
            
                    
                    ADMIN-1-4: アイテムタイプ管理：プロパティ 90
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../admin/ADMIN_2_1.html">
            
                <a href="../admin/ADMIN_2_1.html">
            
                    
                    ADMIN-2-1: アイテム管理：一括更新 104
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../admin/ADMIN_2_2.html">
            
                <a href="../admin/ADMIN_2_2.html">
            
                    
                    ADMIN-2-2: アイテム管理：一括削除 108
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../admin/ADMIN_2_3.html">
            
                <a href="../admin/ADMIN_2_3.html">
            
                    
                    ADMIN-2-3: アイテム管理：一括エクスポート 110
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../admin/ADMIN_2_4.html">
            
                <a href="../admin/ADMIN_2_4.html">
            
                    
                    ADMIN-2-4: アイテム管理：インポート 113
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="../admin/ADMIN_3_1.html">
            
                <a href="../admin/ADMIN_3_1.html">
            
                    
                    ADMIN-3-1: インデックスツリー管理：ツリー編集 155
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="../admin/ADMIN_3_2.html">
            
                <a href="../admin/ADMIN_3_2.html">
            
                    
                    ADMIN-3-2: インデックスツリー管理：雑誌情報 162
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.11" data-path="../admin/ADMIN_3_3.html">
            
                <a href="../admin/ADMIN_3_3.html">
            
                    
                    ADMIN-3-3: インデックスツリー管理：カスタムソート 165
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.12" data-path="../admin/ADMIN_4_1.html">
            
                <a href="../admin/ADMIN_4_1.html">
            
                    
                    ADMIN-4-1: ウェブデザイン管理：ウィジェット 167
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.13" data-path="../admin/ADMIN_4_2.html">
            
                <a href="../admin/ADMIN_4_2.html">
            
                    
                    ADMIN-4-2: ウェブデザイン管理：ページレイアウト 180
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.14" data-path="../admin/ADMIN_5_1.html">
            
                <a href="../admin/ADMIN_5_1.html">
            
                    
                    ADMIN-5-1: 著者DB管理：編集 185
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.15" data-path="../admin/ADMIN_5_1_3.html">
            
                <a href="../admin/ADMIN_5_1_3.html">
            
                    
                    著者DB管理：Affiliation ID
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.16" data-path="../admin/ADMIN_5_2.html">
            
                <a href="../admin/ADMIN_5_2.html">
            
                    
                    ADMIN-5-2: 著者DB管理：一括出力 198
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.17" data-path="../admin/ADMIN_5_3.html">
            
                <a href="../admin/ADMIN_5_3.html">
            
                    
                    ADMIN-5-3: 著者DB管理：一括登録 204
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.18" data-path="../admin/ADMIN_5_4.html">
            
                <a href="../admin/ADMIN_5_4.html">
            
                    
                    ADMIN-5-4: 著者DB管理：外部著者ID Prefix
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.19" data-path="../admin/ADMIN_6_1.html">
            
                <a href="../admin/ADMIN_6_1.html">
            
                    
                    ADMIN-6-1: 統計：運用レポート 217
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.20" data-path="../admin/ADMIN_6_2.html">
            
                <a href="../admin/ADMIN_6_2.html">
            
                    
                    ADMIN-6-2: 統計：フィードバックメール 233
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.21" data-path="../admin/ADMIN_6_3.html">
            
                <a href="../admin/ADMIN_6_3.html">
            
                    
                    ADMIN-6-3: 統計：サイトライセンス 238
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.22" data-path="../admin/ADMIN_7_1.html">
            
                <a href="../admin/ADMIN_7_1.html">
            
                    
                    ADMIN-7-1: ワークフロー管理：フロー 242
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.23" data-path="../admin/ADMIN_7_2.html">
            
                <a href="../admin/ADMIN_7_2.html">
            
                    
                    ADMIN-7-2: ワークフロー管理：ワークフロー 253
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.24" data-path="../admin/ADMIN_8_1.html">
            
                <a href="../admin/ADMIN_8_1.html">
            
                    
                    ADMIN-8-1: コミュニティ管理：コミュニティ 256
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.25" data-path="../admin/ADMIN_8_2.html">
            
                <a href="../admin/ADMIN_8_2.html">
            
                    
                    ADMIN-8-2:  コミュニティ管理：注目のコミュニティ 261
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.26" data-path="../admin/ADMIN_8_3.html">
            
                <a href="../admin/ADMIN_8_3.html">
            
                    
                    ADMIN-8-3:  コミュニティ管理：参加リクエスト 264
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.27" data-path="../admin/ADMIN_9_1.html">
            
                <a href="../admin/ADMIN_9_1.html">
            
                    
                    ADMIN-9-1: OAI-PMH：ハーベスト 265
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.28" data-path="../admin/ADMIN_9_2.html">
            
                <a href="../admin/ADMIN_9_2.html">
            
                    
                    ADMIN-9-2: OAI-PMH：Identify 273
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.29" data-path="../admin/ADMIN_9_3.html">
            
                <a href="../admin/ADMIN_9_3.html">
            
                    
                    ADMIN-9-3: OAI-PMH：Sets 275
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.30" data-path="../admin/ADMIN_10_1.html">
            
                <a href="../admin/ADMIN_10_1.html">
            
                    
                    ADMIN-10-1: Resource Sync：Resource List 277
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.31" data-path="../admin/ADMIN_10_2.html">
            
                <a href="../admin/ADMIN_10_2.html">
            
                    
                    ADMIN-10-2: Resource Sync：Change List 283
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.32" data-path="../admin/ADMIN_10_3.html">
            
                <a href="../admin/ADMIN_10_3.html">
            
                    
                    ADMIN-10-3: Resource Sync：Resync 291
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.33" data-path="../admin/ADMIN_11_1.html">
            
                <a href="../admin/ADMIN_11_1.html">
            
                    
                    ADMIN-11-1: レコード管理：永続識別子 296
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.34" data-path="../admin/ADMIN_11_2.html">
            
                <a href="../admin/ADMIN_11_2.html">
            
                    
                    ADMIN-11-2: レコード管理：レコードメタデータ 299
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.35" data-path="../admin/ADMIN_12_1.html">
            
                <a href="../admin/ADMIN_12_1.html">
            
                    
                    ADMIN-12-1: ファイル管理：バケット 302
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.36" data-path="../admin/ADMIN_12_2.html">
            
                <a href="../admin/ADMIN_12_2.html">
            
                    
                    ADMIN-12-2: ファイル管理：ファイルインスタンス 306
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.37" data-path="../admin/ADMIN_12_3.html">
            
                <a href="../admin/ADMIN_12_3.html">
            
                    
                    ADMIN-12-3: ファイル管理：ロケーション 311
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.38" data-path="../admin/ADMIN_12_4.html">
            
                <a href="../admin/ADMIN_12_4.html">
            
                    
                    ADMIN-12-4: ファイル管理：マルチパートオブジェクト 317
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.39" data-path="../admin/ADMIN_12_5.html">
            
                <a href="../admin/ADMIN_12_5.html">
            
                    
                    ADMIN-12-5: ファイル管理：オブジェクトバージョン 320
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.40" data-path="../admin/ADMIN_13_1.html">
            
                <a href="../admin/ADMIN_13_1.html">
            
                    
                    ADMIN-13-1: ユーザ管理：アクセス_ロール 324
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.41" data-path="../admin/ADMIN_13_2.html">
            
                <a href="../admin/ADMIN_13_2.html">
            
                    
                    ADMIN-13-2: ユーザ管理：アクセス_システムロール 328
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.42" data-path="../admin/ADMIN_13_3.html">
            
                <a href="../admin/ADMIN_13_3.html">
            
                    
                    ADMIN-13-3: ユーザ管理：アクセス_ユーザー 329
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.43" data-path="../admin/ADMIN_13_4.html">
            
                <a href="../admin/ADMIN_13_4.html">
            
                    
                    ADMIN-13-4: ユーザ管理：連結アカウント識別子 330
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.44" data-path="../admin/ADMIN_13_5.html">
            
                <a href="../admin/ADMIN_13_5.html">
            
                    
                    ADMIN-13-5: ユーザ管理：連結アカウントトークン 331
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.45" data-path="../admin/ADMIN_13_6.html">
            
                <a href="../admin/ADMIN_13_6.html">
            
                    
                    ADMIN-13-6: ユーザ管理：連結アカウント 332
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.46" data-path="../admin/ADMIN_13_7.html">
            
                <a href="../admin/ADMIN_13_7.html">
            
                    
                    ADMIN-13-7: ユーザ管理：OAuthアプリケーショントークン 333
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.47" data-path="../admin/ADMIN_13_8.html">
            
                <a href="../admin/ADMIN_13_8.html">
            
                    
                    ADMIN-13-8: ユーザ管理：OAuthアプリケーション 336
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.48" data-path="../admin/ADMIN_13_9.html">
            
                <a href="../admin/ADMIN_13_9.html">
            
                    
                    ADMIN-13-9: ユーザ管理：ロール 339
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.49" data-path="../admin/ADMIN_13_10.html">
            
                <a href="../admin/ADMIN_13_10.html">
            
                    
                    ADMIN-13-10: ユーザ管理：セッションアクティビティ 343
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.50" data-path="../admin/ADMIN_13_11.html">
            
                <a href="../admin/ADMIN_13_11.html">
            
                    
                    ADMIN-13-11: ユーザ管理：ユーザー 345
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.51" data-path="../admin/ADMIN_13_12.html">
            
                <a href="../admin/ADMIN_13_12.html">
            
                    
                    ADMIN-13-12: ユーザ管理：ユーザープロファイル 350
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.52" data-path="../admin/ADMIN_14_1.html">
            
                <a href="../admin/ADMIN_14_1.html">
            
                    
                    ADMIN-14-1: 設定：アイテム表示 354
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.53" data-path="../admin/ADMIN_14_2.html">
            
                <a href="../admin/ADMIN_14_2.html">
            
                    
                    ADMIN-14-2: 設定：インデックスリンク表示 356
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.54" data-path="../admin/ADMIN_14_3.html">
            
                <a href="../admin/ADMIN_14_3.html">
            
                    
                    ADMIN-14-3: 設定：言語表示 357
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.55" data-path="../admin/ADMIN_14_4.html">
            
                <a href="../admin/ADMIN_14_4.html">
            
                    
                    ADMIN-14-4: 設定：PDFカバーページ表示 361
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.56" data-path="../admin/ADMIN_14_5.html">
            
                <a href="../admin/ADMIN_14_5.html">
            
                    
                    ADMIN-14-5: 設定：ランキング表示 364
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.57" data-path="../admin/ADMIN_14_6.html">
            
                <a href="../admin/ADMIN_14_6.html">
            
                    
                    ADMIN-14-6: 設定：統計情報表示 367
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.58" data-path="../admin/ADMIN_14_7.html">
            
                <a href="../admin/ADMIN_14_7.html">
            
                    
                    ADMIN-14-7: 設定：画面背景色 369
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.59" data-path="../admin/ADMIN_14_8.html">
            
                <a href="../admin/ADMIN_14_8.html">
            
                    
                    ADMIN-14-8: 設定：識別子 370
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.60" data-path="../admin/ADMIN_14_9.html">
            
                <a href="../admin/ADMIN_14_9.html">
            
                    
                    ADMIN-14-9: 設定：アイテム一括出力 374
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.61" data-path="../admin/ADMIN_14_10.html">
            
                <a href="../admin/ADMIN_14_10.html">
            
                    
                    ADMIN-14-10: 設定：ログ解析 375
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.62" data-path="../admin/ADMIN_14_11.html">
            
                <a href="../admin/ADMIN_14_11.html">
            
                    
                    ADMIN-14-11: 設定：検索設定 380
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.63" data-path="../admin/ADMIN_14_12.html">
            
                <a href="../admin/ADMIN_14_12.html">
            
                    
                    ADMIN-14-12: 設定：ファセット検索 385
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.64" data-path="../admin/ADMIN_14_13.html">
            
                <a href="../admin/ADMIN_14_13.html">
            
                    
                    ADMIN-14-13: 設定：サイト情報 395
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.65" data-path="../admin/ADMIN_14_14.html">
            
                <a href="../admin/ADMIN_14_14.html">
            
                    
                    ADMIN-14-14: 設定：サイトライセンス 398
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.66" data-path="../admin/ADMIN_14_15.html">
            
                <a href="../admin/ADMIN_14_15.html">
            
                    
                    ADMIN-14-15: 設定：サイトマップ 399
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.67" data-path="../admin/ADMIN_14_16.html">
            
                <a href="../admin/ADMIN_14_16.html">
            
                    
                    ADMIN-14-16: 設定：メール送信 404
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.68" data-path="../admin/ADMIN_14_17.html">
            
                <a href="../admin/ADMIN_14_17.html">
            
                    
                    ADMIN-14-17: 設定：WebAPIアカウント 406
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.69" data-path="../admin/ADMIN_14_18.html">
            
                <a href="../admin/ADMIN_14_18.html">
            
                    
                    ADMIN-14-18: 設定：ファイルプレビュー 408
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.70" data-path="../admin/ADMIN_14_19.html">
            
                <a href="../admin/ADMIN_14_19.html">
            
                    
                    ADMIN-14-19: 設定：Shibboleth 410
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.71" data-path="../admin/ADMIN_14_20.html">
            
                <a href="../admin/ADMIN_14_20.html">
            
                    
                    ADMIN-14-20: 設定：制限公開 412
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.72" data-path="../admin/ADMIN_14_21.html">
            
                <a href="../admin/ADMIN_14_21.html">
            
                    
                    ADMIN-14-21: 設定：その他 422
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.73" data-path="../admin/ADMIN_15_1.html">
            
                <a href="../admin/ADMIN_15_1.html">
            
                    
                    ADMIN-15-1: メンテナンス：Elasticsearchインデックス 423
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../api/">
            
                <a href="../api/">
            
                    
                    WEB API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../api/API_01_Oauth2.html">
            
                <a href="../api/API_01_Oauth2.html">
            
                    
                    API-1: WebAPI：OAuth2 425
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../api/API_02_OAIPMH.html">
            
                <a href="../api/API_02_OAIPMH.html">
            
                    
                    API-2: WebAPI：OAI-PMH 429
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../api/API_03_OpenSearch.html">
            
                <a href="../api/API_03_OpenSearch.html">
            
                    
                    API-3: WebAPI：OpenSearch 436
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../api/API_04_workflow.html">
            
                <a href="../api/API_04_workflow.html">
            
                    
                    API-4: WebAPI：Workflow API 5
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../api/API_05_index_op.html">
            
                <a href="../api/API_05_index_op.html">
            
                    
                    API-5: WebAPI：Index操作API 7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../api/API_06_sword_api.html">
            
                <a href="../api/API_06_sword_api.html">
            
                    
                    API-6: WebAPI：SWORD API 9
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../api/API_07_item_search.html">
            
                <a href="../api/API_07_item_search.html">
            
                    
                    API-7: WebAPI：アイテム検索用API 20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../api/API_08_index_search.html">
            
                <a href="../api/API_08_index_search.html">
            
                    
                    API-8: WebAPI：インデックス検索用API 43
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../api/API_09_render.html">
            
                <a href="../api/API_09_render.html">
            
                    
                    API-9: WebAPI：Render 81
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="../api/API_10_JSON_Schema.html">
            
                <a href="../api/API_10_JSON_Schema.html">
            
                    
                    API-10: WebAPI：JSON Schema 165
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="../api/API_11_JSON_Form.html">
            
                <a href="../api/API_11_JSON_Form.html">
            
                    
                    API-11: WebAPI：JSON Form 187
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../other/">
            
                <a href="../other/">
            
                    
                    その他
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../other/SCHEMA_1_1.html">
            
                <a href="../other/SCHEMA_1_1.html">
            
                    
                    SCHEMA-1-1: データ構造：Render 328
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../other/SCHEMA_1_2.html">
            
                <a href="../other/SCHEMA_1_2.html">
            
                    
                    SCHEMA-1-2: データ構造：Schema 329
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../other/MODULE_01.html">
            
                <a href="../other/MODULE_01.html">
            
                    
                    2 その他：モジュール、ライブラリ 330
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../other/CONFIG_01.html">
            
                <a href="../other/CONFIG_01.html">
            
                    
                    3 その他：コンフィグ 331
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../other/DB_01.html">
            
                <a href="../other/DB_01.html">
            
                    
                    4 その他：DB 336
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../other/OTHER_elasticsearch.html">
            
                <a href="../other/OTHER_elasticsearch.html">
            
                    
                    5 その他：elasticsearch 337
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../other/CELERY_01.html">
            
                <a href="../other/CELERY_01.html">
            
                    
                    6 その他：celery タスク 342
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../other/LOG.html">
            
                <a href="../other/LOG.html">
            
                    
                    7 その他：ログ 345
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../other/USAGE_LOG.html">
            
                <a href="../other/USAGE_LOG.html">
            
                    
                    その他：利用統計ログ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="../other/SESSION_01.html">
            
                <a href="../other/SESSION_01.html">
            
                    
                    8 その他：セッション管理 357
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="../api/API_ENDPOINT_01.html">
            
                <a href="../api/API_ENDPOINT_01.html">
            
                    
                    9 その他：API Endpoint 358
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.12" data-path="../other/SHIBBOLETH_01.html">
            
                <a href="../other/SHIBBOLETH_01.html">
            
                    
                    10 その他：Shibboleth対応 359
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13" data-path="../other/WORKFLOW_01.html">
            
                <a href="../other/WORKFLOW_01.html">
            
                    
                    11 その他：GakuNinRDM連携 362
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.14" data-path="../other/ID_01.html">
            
                <a href="../other/ID_01.html">
            
                    
                    12 その他：ID体系 371
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.15" data-path="../other/KAISEKI_01.html">
            
                <a href="../other/KAISEKI_01.html">
            
                    
                    13 その他：解析基盤連携 372
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../restricted_access/">
            
                <a href="../restricted_access/">
            
                    
                    制限公開機能
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../restricted_access/RESTRICTED_ACCESS_01.html">
            
                <a href="../restricted_access/RESTRICTED_ACCESS_01.html">
            
                    
                    RESTRICTED_ACCESS-13-1: 制限公開機能：アイテムタイプ管理（制限公開） 373
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../restricted_access/RESTRICTED_ACCESS_02.html">
            
                <a href="../restricted_access/RESTRICTED_ACCESS_02.html">
            
                    
                    RESTRICTED_ACCESS-13-2: 制限公開機能：アイテム詳細(制限公開) 376
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../restricted_access/RESTRICTED_ACCESS_03.html">
            
                <a href="../restricted_access/RESTRICTED_ACCESS_03.html">
            
                    
                    RESTRICTED_ACCESS-13-3: 制限公開機能：ワークフロー管理（制限公開） 378
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../restricted_access/RESTRICTED_ACCESS_04.html">
            
                <a href="../restricted_access/RESTRICTED_ACCESS_04.html">
            
                    
                    RESTRICTED_ACCESS-13-4: 制限公開機能：メールテンプレート 381
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../tool/">
            
                <a href="../tool/">
            
                    
                    TOOL
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../tool/TOOL_01.html">
            
                <a href="../tool/TOOL_01.html">
            
                    
                    TOOL-1: ツール：システムプロパティマッピング 390
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            HonKitで公開 
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >USER-3-7: アイテム詳細：エクスポート 73</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <html><head></head><body><h3 id="エクスポート"><a name="エクスポート" class="plugin-anchor" href="#エクスポート"><i class="fa fa-link" aria-hidden="true"></i></a>エクスポート</h3>
<ul>
<li><blockquote>
<p>目的・用途</p>
</blockquote>
</li>
</ul>
<p>本機能は、アイテム詳細画面から特定のアイテムの情報を設定されたスキーマ形式に出力する機能である。</p>
<ul>
<li><blockquote>
<p>利用方法</p>
</blockquote>
</li>
</ul>
<p>エクスポートは、アイテム詳細画面の右下にあるOAI-PMH, BIBTEX, JSONのボタンを押下することで、アイテムの情報がスキーマ形式に出力される。</p>
<ul>
<li><blockquote>
<p>利用可能なロール</p>
</blockquote>
</li>
</ul>
<table>
<thead>
<tr class="header">
<th>ロール</th>
<th>システム<br>
管理者</th>
<th>リポジトリ<br>
管理者</th>
<th>コミュニティ<br>
管理者</th>
<th>登録ユーザー</th>
<th>一般ユーザー</th>
<th>ゲスト<br>
(未ログイン)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>利用可否</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>

<ul>
<li><blockquote>
<p>機能内容</p>
</blockquote>
</li>
</ul>
<p>1. OAI-PMHスキーマを管理</p>
<ul>
<li><p>【Administration &gt; アイテムタイプ管理 (Item Types) &gt; OAIスキーマ (OAI Schema)&gt; 作成画面】にOAI-PMHスキーマを設定できる<br>設定内容は以下の通りである</p>
<ul>
<li><p>スキーマファイルをアップロードする。必須項目</p>
<ul>
<li><p>DublinCore : 別紙の「oai_dc」を参照。</p>
</li>
<li><p>JPCOAR：(<a href="https://github.com/JPCOAR/schema/blob/master/1.0/jpcoar_scm.xsd" target="_blank">https://github.com/JPCOAR/schema/blob/master/1.0/jpcoar_scm.xsd</a>)<br>(<a href="https://github.com/JPCOAR/schema/blob/master/2.0/jpcoar_scm.xsd" target="_blank">https://github.com/JPCOAR/schema/blob/master/2.0/jpcoar_scm.xsd</a>)</p>
</li>
<li><p>DDI : 別紙の「ddi_2_5_1.zip」を参照。</p>
</li>
</ul>
</li>
<li><p>ファイル名（File Name）。必須項目<br>アップロードされたスキーマファイルのファイル名を設定する</p>
</li>
<li><p>スキーマ名（Schema Name）。必須項目<br>OAI-PMH出力ができるため、以下のようなスキーマ名を設定する必要がある</p>
<ul>
<li><p>DublinCoreスキーマ：「oai_dc」</p>
</li>
<li><p>JPCOARスキーマ：「jpcoar_1.0」</p>
</li>
<li><p>DDIスキーマ：「ddi」</p>
</li>
</ul>
</li>
<li><p>ルート名（Root Name）。必須項目<br>OAI-PMH出力ができるため、以下のようなルート名を設定する必要がある</p>
<ul>
<li><p>DublinCoreスキーマ：「dc」</p>
</li>
<li><p>JPCOARスキーマ：「jpcoar_1.0」</p>
</li>
<li><p>DDIスキーマ：「codeBook」</p>
</li>
</ul>
</li>
<li><p>ジップ名（Zip Name）<br>アップロードファイルのフォーマットはzipファイルの場合、必須項目になり、zipファイル名を入れる</p>
</li>
<li><p>スキーマロケーション（Schema Location）<br>スキーマの参照ロケーションを入れる</p>
</li>
<li><p>コメント（Comment）</p>
</li>
</ul>
</li>
</ul>
<p>2. OAI-PMHスキーマをマッピング</p>
<ul>
<li><p>【Administration &gt;アイテムタイプ管理 ( Item Types) &gt;マッピング (Mapping)画面】：作成されたOAI-PMHスキーマにマッピングを実施</p>
<ul>
<li><p>システムが付与する情報<br>「システムが付与したアイテムタイプ (親)」領域でWEKOでのシステム操作を介して作成されるデータをマッピング可能とする<br>対象データは、以下とする</p>
<ul>
<li><p>永続識別子（DOI）<br><a href="https://schema.irdb.nii.ac.jp/ja/schema/17" target="_blank">https://schema.irdb.nii.ac.jp/ja/schema/17</a></p>
</li>
<li><p>永続識別子（HDL）<br><a href="https://schema.irdb.nii.ac.jp/ja/schema/17" target="_blank">https://schema.irdb.nii.ac.jp/ja/schema/17</a></p>
</li>
<li><p>永続識別子（URI）<br><a href="https://schema.irdb.nii.ac.jp/ja/schema/17" target="_blank">https://schema.irdb.nii.ac.jp/ja/schema/17</a></p>
</li>
<li><p>ファイル情報<br><a href="https://schema.irdb.nii.ac.jp/ja/schema/35" target="_blank">https://schema.irdb.nii.ac.jp/ja/schema/35</a>  </p>
<p>updatedの日付のマッピングは、Getrecord、ListRecord、ListIdentifierのheaderにおいて、「datestamp=record.updated,」が使用されており、invenio_records.api.get_recordからDBのupdatedを取得している。  </p>
<p>jpcoarスキーマガイドラインに記載されている以下の項目は不要となる</p>
<ul>
<li><p>datacite:date dateType=&quot;Created&quot;</p>
</li>
<li><p>datacite:date dateType=&quot;Updated&quot;</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>アイテムタイプのメタデータ<br>「アイテムタイプ(親)」領域でアイテムタイプのメタデータをマッピング可能とする</p>
<ul>
<li><p>DDI : 別紙「USER3-7&gt;DDIハーベスト規格ver2_2019120」を参照。</p>
</li>
<li><p><a href="https://support.irdb.nii.ac.jp/sites/default/files/2018-08/mapping_jpcoar_v1.0.1_1.pdf" target="_blank">JPCOAR</a> (<a href="https://support.irdb.nii.ac.jp/sites/default/files/2018-08/mapping_jpcoar_v1.0.1_1.pdf" target="_blank">https://support.irdb.nii.ac.jp/sites/default/files/2018-08/mapping_jpcoar_v1.0.1_1.pdf</a>)</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>3. OAI-PMHのプロバイダ機能の有効・無効をインデックスごとに設定可能</p>
<ul>
<li><p>【Administration &gt; インデックスツリー管理 (Index Tree)&gt;ツリー編集 (Edit Tree)画面】での「ハーベスト公開 (Harvest Publish)」領域でインデックスごとにハーベスト公開制御を設定可能</p>
<ul>
<li><p>「公開する」（Open to public）チェックボックスにチェックを入れる場合、ハーベスト公開が有効になる<br>当該インデックス配下のアイテムについて、 OAI-PMHの出力を可能とする</p>
<ul>
<li><p>OAI-PMHリクエスト（GetRecord）に対して、OAI-PMHの正常レスポンスを返す</p>
</li>
<li><p>アイテム詳細画面の「OAI-PMH」領域でのボタン押下に対して、OAI-PMHの正常レスポンスを返す</p>
</li>
</ul>
</li>
<li><p>「公開する」（Open to public）チェックボックスにチェックをはずす場合、ハーベスト公開が無効になる<br>当該インデックス配下のアイテムについて、 OAI-PMHの出力を不可とする</p>
<ul>
<li><p>OAI-PMHリクエスト（GetRecord）に対して、OAI-PMHの「idDoesNotExist」エラーレスポンスを返す</p>
</li>
<li><p>アイテム詳細画面の「OAI-PMH」ボタン押下に対して、OAI-PMHの「idDoesNotExist」エラーレスポンスを返す</p>
</li>
</ul>
</li>
<li><p>OAI-PMH機能の有効・無効の切り替え条件<br>リポジトリ管理者およびシステム管理者が切り替え可能。コミュニティ管理者は、コミュニティオーナーとなっている管理対象インデックスのみ切り替え可能。</p>
</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr class="header">
<th><strong>Verb</strong></th>
<th>WEKO3<br>
（oaiserver_identifyレコードなし)</th>
<th><strong>WEKO3<br>
</strong>（outPutSetting = f)</th>
<th><strong>WEKO3<br>
</strong>（outPutSetting = T)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>GetRecord</strong></td>
<td>出力なし<br>
（noRecordsMatch）</td>
<td><strong>出力</strong>なし<br>
（noRecordsMatch）</td>
<td><strong>出力</strong></td>
</tr>
<tr class="even">
<td><strong>ListRecords</strong></td>
<td>出力<strong>なし<br>
</strong>（noRecordsMatch）</td>
<td>出力なし（noRecordsMatch） ​</td>
<td><strong>出力</strong></td>
</tr>
<tr class="odd">
<td><strong>ListIdentifiers</strong></td>
<td>出力なし<br>
（noRecordsMatch）</td>
<td>出力なし<br>
（noRecordsMatch）</td>
<td>出力</td>
</tr>
<tr class="even">
<td><strong>ListMetadataFormats</strong></td>
<td><strong>出力</strong></td>
<td><strong>出力</strong></td>
<td><strong>出力</strong></td>
</tr>
<tr class="odd">
<td><strong>ListSets</strong></td>
<td>出力†</td>
<td>出力†</td>
<td><strong>出力</strong></td>
</tr>
<tr class="even">
<td><strong>Identify</strong></td>
<td><strong>出力</strong></td>
<td><strong>出力</strong></td>
<td><strong>出力</strong></td>
</tr>
</tbody>
</table>

<p>※非公開状態にある<strong>アイテム</strong>は出力しない<br>†ただし、非公開インデックス（非公開、OAI-PMH非公開）は出力しない</p>
<p>4. アイテムのメタデータをOAI-PMH出力</p>
<ul>
<li><p>【前提条件】<br>「3.1. OAI-PMHスキーマを管理」及び「3.2. OAI-PMHスキーマをマッピング」が設定済み</p>
</li>
<li><p>対応しているOAI-PMHスキーマ</p>
<ul>
<li><p>JPCOAR</p>
</li>
<li><p>DDI</p>
</li>
<li><p>DublinCore</p>
</li>
</ul>
</li>
<li><p>アイテム詳細画面での「OAI-PMH」領域にOAI-PMHスキーマボタンを押すと、該当フォーマットとしてアイテムのメタデータをOAI-PMH出力する</p>
<ul>
<li><p>OAI-PMHの要求リクエストでエラーまたは例外状況が発生した場合に下記のOAI-PMHエラーを返せる<br>「3.6 エラーと例外状況 」(<a href="https://www.nii.ac.jp/irp/archive/translation/oai-pmh2.0/OpenArchivesProtocol.htm#ErrorConditions" target="_blank">https://www.nii.ac.jp/irp/archive/translation/oai-pmh2.0/OpenArchivesProtocol.htm#ErrorConditions</a>)<br>※DDIマッピングがない場合のエラーコード修正は以下の様に設定されている。<br><a href="https://github.com/RCOSDP/weko/blob/0.9.22/modules/invenio-oaiserver/invenio_oaiserver/config.py#L207-L212" target="_blank">https://github.com/RCOSDP/weko/blob/0.9.22/modules/invenio-oaiserver/invenio_oaiserver/config.py#L207-L212</a></p>
</li>
<li><p>公開／非公開インデックスに属するアイテムのOAI-PMHの出力を制御する</p>
<ul>
<li><p>アイテムが非公開の場合はdelete情報を出力する</p>
</li>
<li><p>アイテムが非公開インデックスにのみ属している場合は、アイテムが公開でも非公開でもdelete情報を出力する</p>
</li>
<li><p>アイテムが非公開インデックスと公開インデックスの両方に属している場合は、delete情報は出力しない（アイテムが公開の場合）</p>
</li>
</ul>
</li>
<li><p>DOI有無での出力条件<br>インデックスの設定について、<br>・「公開する」にチェックがついている、かつ「公開日が未来の日付」である<br>・「ハーベスト公開」の「公開する」にチェックがついている<br>上記の条件を満たすとき、OAI-PMH出力は以下のように対応する。</p>
<ul>
<li><p>アイテムにDOI付与がある場合<br>OAI-PMH出力しない<br>ListRecordsではrecordを出力しない<br>GetRecordではnoRecordsMatchを出力する</p>
</li>
<li><p>アイテムにDOI付与が無い場合<br>削除レコードを出力する<br>ListRecords、GetRecordでは\</p><header status="deleted" \>を出力する<p></p>
</header></li>
</ul>
</li>
<li><p>項目が複数登録される場合、DDIスキーマでの「titl」以外、繰り返し出力する</p>
</li>
<li><p>JPCOARのOAI-PMH出力にて、定められた統制語彙でない値が設定されている項目は対象外とする</p>
<ul>
<li><p>対象項目：以下の項目の属性「nameIdentifierScheme」の値</p>
<ul>
<li><p>作成者識別子（jpcoar:creator -&gt; jpcoar:nameIdentifier）</p>
</li>
<li><p>寄与者識別子（jpcoar:contributor -&gt; jpcoar:nameIdentifier）</p>
</li>
<li><p>権利者識別子（jpcoar:rightsHolder -&gt; jpcoar:nameIdentifier）</p>
</li>
</ul>
</li>
<li><p>定められた統制語彙は以下のリンクを参照する<br><a href="https://schema.irdb.nii.ac.jp/en/schema" target="_blank">https://schema.irdb.nii.ac.jp/en/schema</a></p>
</li>
</ul>
</li>
<li><p>identifierTypeに関して、JPCOARのOAI-PMH出力では以下の通りに出力をする（※最大で3つ（URI、HDL、DOI）、最小で1つ（URIのみ）のidentifierが出力される）</p>
<ul>
<li><p>URI（必ず存在する。<a href="https://FQDN/records/item\_id）：" target="_blank">https://FQDN/records/item\_id）：</a>　&quot;identifierType=URI&quot; として出力する</p>
</li>
<li><p>HDLが存在する場合：　&quot;identifierType=HDL&quot; として出力する</p>
</li>
<li><p>DOIが存在する場合：　&quot;identifierType=DOI&quot; として出力する</p>
</li>
</ul>
</li>
<li><p>DDIのOAI-PMH出力にて、親タグが言語ごとに繰返し出力できる</p>
<ul>
<li><p>対応している親タグ</p>
<ul>
<li><p>「stdyDscr&gt;citation」</p>
</li>
<li><p>「stdyDscr&gt;stdyInfo」</p>
</li>
<li><p>「stdyDscr&gt;method」</p>
</li>
<li><p>「stdyDscr&gt;dataAccs」</p>
</li>
<li><p>「stdyDscr&gt;othrStdyMat」</p>
</li>
</ul>
</li>
<li><p>「citation」親タグに対して出力を以下のように制限する</p>
<ul>
<li><p>「citation&gt;titlStmt&gt;titl」が繰り返し不可により、同一言語にtitlの値が複数定義される場合、最初に出るtitlを出力する</p>
</li>
<li><p>「citation&gt;titlStmt&gt;titl」が必須項目により、titlの値が無い場合は取得する最初のtitlを設定する</p>
</li>
<li><p>「citation&gt;rspStmt&gt;AuthEnty」にて「ja-kana」の言語を選択する場合、jaの扱いとして出力する</p>
</li>
</ul>
</li>
<li><p>DDIスキーマにOAI-PMH出力構築<br><a href="https://ddialliance.org/sites/default/files/ddi-lite.html" target="_blank">https://ddialliance.org/sites/default/files/ddi-lite.html</a></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>以下のハーベスト出力条件に従って出力する</p>
<ul>
<li><p>インデックスの公開／非公開、ハーベスト設定のON/OFFの設定は、アイテムが直接紐づいているインデックスとその上位のインデックスについても対象とする</p>
</li>
<li><p>複数のインデックスに所属する場合、インデックスの公開が優先される。</p>
</li>
<li><p>複数のインデックスに所属する場合、ハーベスト設定のOFFが優先される。</p>
</li>
</ul>
</li>
<li><p>インデックス状態によるアイテム公開制御仕様：<br>別紙「ItemACL_latest.xlsx」を参照。</p>
</li>
<li><p>アイテムの公開日について、以下の制御を行う</p>
<ul>
<li><p>Administration &gt; ItemTypes &gt; Metadata でアイテムタイプの&quot;公開日&quot;の「Hide」オプションがON（非表示とする）の場合、アイテムの「公開日」はOAI-PMH出力しない</p>
</li>
<li><p>Admin &gt; ItemTypes &gt; Metadata でアイテムタイプの&quot;公開日&quot;の「Hide」オプションがOFF（表示する）の場合、アイテムの「公開日」をOAI-PMHに出力する</p>
</li>
</ul>
</li>
<li><p>公開日が未来日のアイテムに関しては以下の制御を行う</p>
<ul>
<li><p>アイテムの公開日が未来日の場合</p>
<ul>
<li><p>アイテムにDOI付与がある場合</p>
<ul>
<li><p>OAI-PMH出力しない</p>
</li>
<li><p>ListRecordsではrecordを出力しない</p>
</li>
<li><p>GetRecordではidDoesNotExistを出力する</p>
</li>
</ul>
</li>
<li><p>アイテムにDOI付与が無い場合</p>
<ul>
<li><p>削除レコードを出力する</p>
</li>
<li><p>ListRecords、GetRecordでは\</p><header status="deleted" \>を出力する<p></p>
</header></li>
</ul>
</li>
</ul>
</li>
<li><p>インデックスについて、以下の場合<br>　・「公開する」にチェックがついている、かつ「公開日が未来の日付」である<br>　・「ハーベスト公開」の「公開する」にチェックがついている</p>
<ul>
<li><p>アイテムにDOI付与がある場合</p>
<ul>
<li><p>OAI-PMH出力しない</p>
</li>
<li><p>ListRecordsではrecordを出力しない</p>
</li>
<li><p>GetRecordではidDoesNotExistを出力する</p>
</li>
</ul>
</li>
<li><p>アイテムにDOI付与が無い場合</p>
<ul>
<li><p>削除レコードを出力する</p>
</li>
<li><p>ListRecords、GetRecordでは\</p><header status="deleted" \>を出力する<p></p>
</header></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>親インデックスが非公開または公開日が未来の日付の場合のとき、非ログイン状態で以下の挙動をする</p>
<ul>
<li><p>アイテム詳細画面やコンテンツファイルのURLに直接アクセスすると、ログイン画面に遷移する</p>
</li>
<li><p>OAI-PMHで\</p><header status="deleted" \>を出力する（DOIが付与されていない場合）<p></p>
</header></li>
<li><p>OAI-PMHのGetRecordでidDoesNotExistを出力する（DOIが付与されている場合）</p>
</li>
<li><p>ランキング表示で、当該インデックスのみに紐づいたアイテムは表示しない</p>
</li>
<li><p>新着情報やインデックスのRSSで、当該インデックスのみに紐づいたアイテムは表示されない</p>
</li>
</ul>
</li>
</ul>
<p>5. Sets</p>
<ul>
<li><p>インデックス単位でのOAI-PMHによるSet提供ができる<br>当該Setには当該インデックスの下位のインデックスも含む</p>
</li>
<li><p>【Administaration&gt;インデックスツリー編集 (Index Tree) &gt; Edit Tree画面】にて公開のインデックスを追加/更新/削除するとSetsの情報も自動的に反映される</p>
</li>
<li><p>【Administration &gt; OAI-PMH &gt; Sets画面】でのSetsの設定が可能</p>
<ul>
<li><p>Created: Sets 情報作成日時</p>
</li>
<li><p>Updated: Sets 情報更新日時</p>
</li>
<li><p>id: Sets 情報のID（システム設定)</p>
</li>
<li><p>Spec: インデックスパス ※パスの区切りは:(コロン)<br>例 1628576973067:1628576975817</p>
</li>
<li><p>Name: Sets 情報の名前(システムインデックス名)</p>
</li>
<li><p>Description: 概要</p>
</li>
<li><p>Search Pattern: 検索パターン ※パスの区切りは/(スラッシュ)<br>例 path:&quot;1628576973067/1628576975817&quot;</p>
</li>
</ul>
</li>
</ul>
<p>6. Other Formats</p>
<ul>
<li><p>アイテム詳細画面の「Other Formats」で以下の形式でアイテム情報を出力できる</p>
<ul>
<li><blockquote>
<p>JSON</p>
</blockquote>
<ul>
<li><blockquote>
<p>アイテムのメタデータをJSON形式でエクスポートする。</p>
</blockquote>
</li>
<li><blockquote>
<p>アイテム詳細画面のエクスポートエリアに表示されているJSONリンクを押下する。/records/\<item\_id\>/export/json</item\_id\></p>
</blockquote>
</li>
<li><blockquote>
<p>表示例は別紙「JSON出力例.txt」を参照。</p>
</blockquote>
</li>
<li><blockquote>
<p>設定</p>
</blockquote>
<ul>
<li><blockquote>
<p><a href="https://github.com/RCOSDP/weko/blob/v0.9.22/modules/weko-records-ui/weko_records_ui/config.py#L198-L202" target="_blank">https://github.com/RCOSDP/weko/blob/v0.9.22/modules/weko-records-ui/weko_records_ui/config.py#L198-L202</a></p>
</blockquote>
</li>
<li><blockquote>
<p><a href="https://github.com/RCOSDP/weko/blob/v0.9.22/modules/invenio-records-rest/invenio_records_rest/serializers/__init__.py#L17" target="_blank">https://github.com/RCOSDP/weko/blob/v0.9.22/modules/invenio-records-rest/invenio_records_rest/serializers/__init__.py#L17</a></p>
</blockquote>
</li>
</ul>
</li>
<li><blockquote>
<p>シリアライザ：</p>
</blockquote>
<ul>
<li><blockquote>
<p><a href="https://github.com/RCOSDP/weko/blob/v0.9.22/modules/invenio-records-rest/invenio_records_rest/serializers/json.py#L70" target="_blank">https://github.com/RCOSDP/weko/blob/v0.9.22/modules/invenio-records-rest/invenio_records_rest/serializers/json.py#L70</a></p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><blockquote>
<p>BIBTEX</p>
</blockquote>
<ul>
<li><blockquote>
<p>アイテムのメタデータをBIBTEX形式でエクスポートする。</p>
</blockquote>
</li>
<li><blockquote>
<p>アイテム詳細画面のエクスポートエリアに表示されているBIBTEXリンクを押下する。/records/\<item\_id\>/export/bibtex</item\_id\></p>
</blockquote>
</li>
<li><blockquote>
<p>表示例は別紙「BIBTEX出力例.txt」を参照。</p>
</blockquote>
</li>
<li><blockquote>
<p>設定</p>
</blockquote>
<ul>
<li><blockquote>
<p><a href="https://github.com/RCOSDP/weko/blob/v0.9.22/modules/weko-records-ui/weko_records_ui/config.py#L203-L207" target="_blank">https://github.com/RCOSDP/weko/blob/v0.9.22/modules/weko-records-ui/weko_records_ui/config.py#L203-L207</a></p>
</blockquote>
</li>
<li><blockquote>
<p><a href="https://github.com/RCOSDP/weko/blob/v0.9.22/modules/weko-records-ui/weko_records_ui/templates/weko_records_ui/box/export.html" target="_blank">https://github.com/RCOSDP/weko/blob/v0.9.22/modules/weko-records-ui/weko_records_ui/templates/weko_records_ui/box/export.html</a></p>
</blockquote>
</li>
</ul>
</li>
<li><blockquote>
<p>シリアライザ：</p>
</blockquote>
<ul>
<li><blockquote>
<p><a href="https://github.com/RCOSDP/weko/blob/v0.9.22/modules/weko-schema-ui/weko_schema_ui/serializers/WekoBibTexSerializer.py" target="_blank">https://github.com/RCOSDP/weko/blob/v0.9.22/modules/weko-schema-ui/weko_schema_ui/serializers/WekoBibTexSerializer.py</a></p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- end list -->
<ul>
<li><blockquote>
<p>関連モジュール</p>
</blockquote>
</li>
</ul>
<!-- end list -->
<ul>
<li><blockquote>
<p>weko-schema-ui</p>
</blockquote>
</li>
<li><blockquote>
<p>invenio-oaiserver</p>
</blockquote>
</li>
<li><blockquote>
<p>invenio_records</p>
</blockquote>
</li>
</ul>
<!-- end list -->
<ul>
<li><blockquote>
<p>処理概要</p>
</blockquote>
</li>
</ul>
<p>1. 設定</p>
<ul>
<li><p>プロバイダ不可の場合に対してのエラーコードを設定する<br>設定キー：OAISERVER_CODE_NO_RECORDS_MATCH<br>パス：<br><a href="https://github.com/RCOSDP/weko/blob/v0.9.22/modules/invenio-oaiserver/invenio_oaiserver/config.py#L207" target="_blank">https://github.com/RCOSDP/weko/blob/v0.9.22/modules/invenio-oaiserver/invenio_oaiserver/config.py#L207</a></p>
</li>
<li><p>プロバイダ不可の場合に対してのエラーメッセージを設定する<br>設定キー：OAISERVER_MESSAGE_NO_RECORDS_MATCH<br>パス：<br><a href="https://github.com/RCOSDP/weko/blob/v0.9.22/modules/invenio-oaiserver/invenio_oaiserver/config.py#L210" target="_blank">https://github.com/RCOSDP/weko/blob/v0.9.22/modules/invenio-oaiserver/invenio_oaiserver/config.py#L210</a></p>
</li>
</ul>
<p>2. 実装方法</p>
<ul>
<li>OAI-PMHスキーマボタンを押すと、以下のフローを実施する</li>
</ul>
<p>(1)「identifier」の値を元に、対象アイテムに対してプロバイダの有効・無効をチェックする</p>
<ul>
<li><p>/oaiにアクセスすることで、invenio_oaiserver.views.server.responseが呼び出され、リクエストのverbの値によってinvenio_oaiserver.response.pyのが呼び出される。</p>
</li>
<li><p>verbの値によって呼び出されたでinvenio_oaiserver.api.OaiIdentify.get_allを呼び出す。そしてinvenio_oaiserver.models.Identifyを呼び出して、「oaiserver_identify」テーブルから「Administration＞OAI-PMH＞Identify」に設定したデータを取得して「Identify」の値とする。</p>
</li>
<li><p>「Identify」の値を元にプロバイダ機能が無効の場合にinvenio_oaiserver.response.get_error_code_msgを呼び出して使用する。<br>なおverbの値がgetreccordの場合は、invenio_oaiserver.response.errorを呼び出して使用する。</p>
</li>
<li><p>以下のケースに当たれば、プロバイダ機能が無効とし、エラーレスポンスを返す</p>
<ul>
<li><p>ケース</p>
<ul>
<li><p>アイテムがプロバイダ機能の無効と設定しているインデックスに属する</p>
</li>
<li><p>アイテムが非公開と設定しているインデックスに属する</p>
</li>
<li><p>アイテムが非公開と設定する</p>
</li>
</ul>
</li>
<li><p>エラー内容</p>
<ul>
<li><p>エラーコード：コンフィグに設定している「OAISERVER_CODE_NO_RECORDS_MATCH」キー</p>
</li>
<li><blockquote>
<p>エラーメッセージ：コンフィグに設定している「OAISERVER_MESSAGE_NO_RECORDS_MATCH 」キー</p>
</blockquote>
</li>
<li><blockquote>
<p>getrecordのエラーコード：errorに渡す引数<br>「idDoesNotExist」</p>
</blockquote>
</li>
<li><blockquote>
<p>getrecordのエラーメッセージ：errorに渡す引数<br>「No matching identifier」</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><p>プロバイダ機能が有効になる場合、(2)に進む</p>
</li>
</ul>
<p>(2)システムプロパティーを処理する<br>(2.1)ファイル情報のプロパティー</p>
<ul>
<li><p>invenio_oaiserver.response.combine_record_file_urlsを使用する。</p>
</li>
<li><p>ファイルのマッピングがメタデータレコードに含まれる場合、ファイルのURLを生成し、「File」プロパティーとし情報を返す</p>
</li>
</ul>
<p>(2.2)識別子のプロパティー</p>
<ul>
<li><p>invenio_oaiserver.response. get_identifierを使用する。</p>
</li>
<li><p>DOI、またはHDLのURLがメタデータレコードに含まれる場合、「system_identifier_doi」プロパティーとし情報を返す</p>
</li>
<li><p>DOI、またはHDLのURLがメタデータレコードに含まれない場合、レコードIDを元に、識別子の値を生成し、「system_identifier_doi」プロパティーとし情報を返す</p>
</li>
</ul>
<p>(3)「_init_」メソッドで以下の情報を取得し、メタデータレコードにマッピングデータを組み込む</p>
<ul>
<li><p>weko_schema_ui.schema.SchemaTree._init_を使用する。</p>
</li>
<li><p>メタデータレコード</p>
</li>
<li><p>マッピングデータ</p>
</li>
<li><p>非表示の属性</p>
</li>
<li><p>スキーマオブジェクト</p>
</li>
</ul>
<p>(4)weko_schema_ui.schema.SchemaTree.create_xmlで以下の処理を実施する<br>(4.1)メタデータレコードでの各データを処理する</p>
<ul>
<li><p>非表示の属性に属するデータ、または値が空白のデータが対象外とする</p>
</li>
<li><p>「get_mapping_value」関数でメタデータレコードをXML構成に変換する</p>
</li>
</ul>
<p>(4.2)対象OAI-PMHスキーマがDDIスキーマであるかどうか、チェックする</p>
<ul>
<li><p>対象OAI-PMHスキーマがDDIスキーマの場合、以下の処理を実施する</p>
<ul>
<li><p>階層にある子タグ（node）をマージする</p>
</li>
<li><p>繰り返し用の親タグを指定する。現在対応している親タグ（5件）は以下の通りである</p>
<ul>
<li><p>「stdyDscr&gt;citation」</p>
</li>
<li><p>「stdyDscr&gt;stdyInfo」</p>
</li>
<li><p>「stdyDscr&gt;method」</p>
</li>
<li><p>「stdyDscr&gt;dataAccs」</p>
</li>
<li><p>「stdyDscr&gt;othrStdyMat」</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>対象OAI-PMHスキーマがDDIスキーマ以外の場合、(4.3)に進む</p>
</li>
</ul>
<p>(4.3)メタデータレコードをOAI-PMHスキーマでの該当ノードに指定する<br>(4.4)（4.3）での結果をOAI-PMHスキーマの構築にビルドし、該当スキーマのOAI-PMH出力を返す</p>
<ul>
<li><p>対象OAI-PMHスキーマがDDIスキーマの場合、追加で処理を実施する</p>
<ul>
<li><p>(4.2)に指定された親タグを言語ごとに分ける</p>
</li>
<li><p>「citation」親タグに対して以下のように制限する</p>
<ul>
<li><p>「citation&gt;titlStmt&gt;titl」が繰り返し不可により、同一言語にtitlの値が複数定義される場合、最初に出るtitlを出力する</p>
</li>
<li><p>「citation&gt;titlStmt&gt;titl」が必須項目により、titlの値が無い場合は取得する最初のtitlを設定する</p>
</li>
<li><p>「citation&gt;rspStmt&gt;AuthEnty」にて「ja-kana」の言語を選択する場合、jaの扱いとして出力する</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>１つのインデックスに対して１つのクエリを作成しているが、クエリの数(インデックスの件数が多い)が1024を超えている場合は、クエリのインデックスリスト部分を分割する</p>
</li>
</ul>
<p>Elasticsearch の利用</p>
<ul>
<li><p>scroll APIを利用している。 ESの index.max_result_window 以上の結果を取得することができる。</p>
<ul>
<li><a href="https://github.com/RCOSDP/weko/blob/v0.9.22/modules/invenio-oaiserver/invenio_oaiserver/query.py#L192" target="_blank">https://github.com/RCOSDP/weko/blob/v0.9.22/modules/invenio-oaiserver/invenio_oaiserver/query.py#L192</a></li>
</ul>
</li>
</ul>
<!-- end list -->
<ul>
<li><blockquote>
<p>更新履歴</p>
</blockquote>
</li>
</ul>
<table>
<thead>
<tr class="header">
<th>日付</th>
<th>GitHubコミットID</th>
<th>更新内容</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><blockquote>
<p>2023/08/31</p>
</blockquote></td>
<td>353ba1deb094af5056a58bb40f07596b8e95a562</td>
<td>初版作成</td>
</tr>
</tbody>
</table></body></html>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="USER_3_6.html" class="navigation navigation-prev " aria-label="Previous page: USER-3-6: アイテム詳細：共有 72">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="USER_3_8.html" class="navigation navigation-next " aria-label="Next page: USER-3-8: アイテム詳細：Google Scholar メタデータ出力 81">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"USER-3-7: アイテム詳細：エクスポート 73","level":"1.2.16","depth":2,"next":{"title":"USER-3-8: アイテム詳細：Google Scholar メタデータ出力 81","level":"1.2.17","depth":2,"path":"user/USER_3_8.md","ref":"user/USER_3_8.md","articles":[]},"previous":{"title":"USER-3-6: アイテム詳細：共有 72","level":"1.2.15","depth":2,"path":"user/USER_3_6.md","ref":"user/USER_3_6.md","articles":[]},"dir":"ltr"},"config":{"plugins":["intopic-toc","back-to-top-button","anchors","collapsible-chapters","hide-published-with","plantuml-cloud"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"intopic-toc":{"selector":".markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4, .markdown-section h5, .markdown-section h6","mode":"nested","maxDepth":6,"isCollapsed":true,"isScrollspyActive":true,"visible":true,"label":"In this article"},"search":{},"collapsible-chapters":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"hide-published-with":{},"plantuml-cloud":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"back-to-top-button":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","author":"Research Center for Open Science and Data Platform, National Institute of Informatics","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"機能仕様書","language":"ja","gitbook":"*","description":""},"file":{"path":"user/USER_3_7.md","mtime":"2024-08-27T03:35:33.290Z","type":"markdown"},"gitbook":{"version":"5.1.4","time":"2024-09-10T15:51:15.605Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/gumshoe.polyfills.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-collapsible-chapters/collapsible-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-hide-published-with/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

